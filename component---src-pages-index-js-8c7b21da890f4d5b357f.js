(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e||e instanceof String},t.isPlural=function(e){return(0,r.default)(e)==e};var a,r=(a=n(507))&&a.__esModule?a:{default:a}},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unfold=function(e){var t=Object.keys(e),n=Math.max.apply(null,t.map(function(t){var n=e[t];return Array.isArray(n)?n.length:1}));return Array.from(Array(n).keys()).map(function(n){return t.reduce(function(t,a){var r=e[a];return t[a]=Array.isArray(r)?r[n]:r,t},{})})}},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browser=t.node=void 0;var a=n(320),r=n(508),o=(n(257),n(125),n(509)),i=(0,o.traversal)(a.context);t.node=i;var l=(0,o.traversal)(r.context);t.browser=l},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeValue=l,t.context=void 0;var a,r=(a=n(321))&&a.__esModule?a:{default:a},o=n(125);var i={createDom:function(e,t){var n=(0,o.isString)(e)?r.default.load(e):e;return t?r.default.load(n(t).html()):n},getScrapper:function(e){return{scrap:function(t,n){var a=e(t).get(0);if(null!=a)return null==n?l(a):a.attribs[n]},scrapElements:function(t,n){return null==n?e(t).toArray().map(function(e,t){return l(e)}):e(t).toArray().map(function(e,t){return e.attribs[n]})}}}};function l(e){var t=e.name;return"img"===t?e.attribs.src:"a"===t||"link"===t?e.attribs.href:(0,r.default)(e).text().trim()}t.context=i},329:function(e,t){},331:function(e,t){},340:function(e,t){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(304),i=n(311),l=n.n(i),c=n(649),s=n(651),u=n(652),m=n(650),f=n(197);n(643);function p(e){return r.a.createElement("div",{className:"HtmlEditorContainer"},r.a.createElement(f.Controlled,{value:e.html,options:{lineNumbers:!0,lineWrapping:!0,mode:"application/json"},height:"150",width:"150",onBeforeChange:function(t,n,a){e.dispatch("updateHtml",a)}}))}function h(e){return r.a.createElement("div",{className:"JsonEditorContainer"},r.a.createElement(f.Controlled,{value:e.json,options:{lineNumbers:!0,lineWrapping:!0,mode:"application/json"},height:"150",width:"150",onBeforeChange:function(t,n,a){e.dispatch("updateJson",a)}}))}var d=n(317),y=n.n(d),b=function(e){var t=e.json;return r.a.createElement("div",{className:"PreviewerContainer"},r.a.createElement(y.a,{json:t}))},v='\n<html>\n  <head>\n    <title>Hero News!</title>\n  </head>\n  <body>\n    <div class="main">\n        <h3 class="topic">Amalgam</h3>\n        <ul class="news-list">\n            <li> \n              <span class="content" data-hero="Batman"}>Batman come back in Gossam City!</span>\n              <img class="thumbnail" src="https://exmaple.com/batman.png"></img>\n            </li>\n            <li> \n              <span class="content" data-hero="Dr. Strange"}>Dr. Strange got into a traffic accident.</span>\n              <img  class="thumbnail" src="https://exmaple.com/strange.png"></img>\n            </li>\n        </ul>\n    </div>\n    <div class="sub">\n        <ul class="sub-news-list">\n            <li> \n              <span class="content" data-hero="IronMan">close in on the "truth" of Stark industries.</span>\n              <img class="thumbnail" src="https://exmaple.com/stark.png"></img>\n            </li>\n            <li> \n              <span class="content">MVP of the month.</span>\n              <img  class="thumbnail" src="https://exmaple.com/mvp.png"></img>\n            </li>\n        </ul>\n    </div>\n  </body>\n</html>\n\n',g={hero:[".content[data-hero]","data-hero"],heroes:[".content[data-hero]","data-hero"]},S={topic:{content:".content"}},E={topic:{content:".content",contents:".content"}},w={unfoldTopics:{_unfold:!0,content:".news-list .content",image:".news-list img"},topics:{contents:".news-list .content",images:".news-list img"}},j={topic:{contents:".content",images:"img"},mainTopic:{_root:".news-list",contents:".content",images:"img"},subTopic:{_root:".sub-news-list",contents:".content",images:"img"}},k=(n(318),n(319));function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return P}),"undefined"!=typeof navigator&&(n(510),n(258));var P=function(e){function t(e,n){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=A(this,x(t).call(this,e,n))).state={json:JSON.stringify(S,null,4),result:{},html:v,loading:!1},a}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,l.a),n=t,(a=[{key:"componentDidMount",value:function(){this.subscribe({updateJson:this.updateJson,updateHtml:this.updateHtml})}},{key:"updateJson",value:function(e){this.setState({json:e})}},{key:"updateHtml",value:function(e){this.setState({html:e})}},{key:"querySchema",value:function(){try{return JSON.parse(this.state.json)}catch(e){return console.error(e),{}}}},{key:"updateAttributeRuleSchema",value:function(){this.updateSchema(g)}},{key:"updateNameRuleSchema",value:function(){this.updateSchema(E)}},{key:"updateUnfoldRuleSchema",value:function(){this.updateSchema(w)}},{key:"updateRootRuleSchema",value:function(){this.updateSchema(j)}},{key:"updateSchema",value:function(e){this.setState({json:JSON.stringify(e,null,4)})}},{key:"parse",value:function(){var e=Object(k.browser)(this.querySchema(),this.state.html);console.table(e),this.setState({result:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(o.Helmet,null,r.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"}),r.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css"}),r.a.createElement("link",{rel:"stylesheet",href:"//esironal.github.io/cmtouch/lib/codemirror.css"}),r.a.createElement("link",{rel:"stylesheet",href:"//esironal.github.io/cmtouch/addon/hint/show-hint.css"})),r.a.createElement(c.a,{text:!0},r.a.createElement(s.a,{as:"h1"},"Kirinuki"),r.a.createElement("p",null,"Kirinuki is a library that convert any html to JSON using CSS selectors."),r.a.createElement("p",null,"* Kirinuki is automatically convert data type by query key naming rules.(singular form or a plural form)",r.a.createElement("br",null),r.a.createElement("a",{onClick:this.updateNameRuleSchema.bind(this)},"try it!")),r.a.createElement("p",null,'* To get the html attributes, specify with Array. ex: `["css selector", "attribute name"]`',r.a.createElement("br",null),r.a.createElement("a",{onClick:this.updateAttributeRuleSchema.bind(this)},"try it!")),r.a.createElement("p",null,"* Support nesting schema. if schema has '_unfold' property unfold a plain object with array of value into a array with plain object",r.a.createElement("br",null),r.a.createElement("a",{onClick:this.updateUnfoldRuleSchema.bind(this)},"try it!")),r.a.createElement("p",null,"* Root path",r.a.createElement("br",null),r.a.createElement("a",{onClick:this.updateRootRuleSchema.bind(this)},"try it!"))),r.a.createElement(c.a,null,r.a.createElement(s.a,{as:"h2"},"Demo"),r.a.createElement(u.a,{celled:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:8},r.a.createElement(s.a,{as:"h3"}," Query Schema "),r.a.createElement(h,{dispatch:this.dispatch,json:this.state.json}),r.a.createElement("hr",null),r.a.createElement(s.a,{as:"h3"}," Target HTML "),r.a.createElement(p,{dispatch:this.dispatch,html:this.state.html})),r.a.createElement(u.a.Column,{width:8},r.a.createElement(s.a,{as:"h3"}," ","Result view (Please open the developer console)"," "),r.a.createElement(b,{dispatch:this.dispatch,json:this.state.result}))),r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,{width:16,textAlign:"center"},r.a.createElement(m.a,{fluid:!0,primary:!0,loading:this.state.loading,onClick:this.parse.bind(this)},"parse"))))))}}])&&O(n.prototype,a),i&&O(n,i),t}()},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeValue=o,t.context=void 0;var a=n(125);var r={createDom:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1?arguments[1]:void 0,r=(0,a.isString)(t)?(e=t,(new DOMParser).parseFromString(e,"text/html")):t;return null!=n?r.querySelector(n):r},getScrapper:function(e){return{scrap:function(t,n){var a=e.querySelectorAll(t)[0];if(null!=a)return null==n?o(a):a.getAttribute(n)},scrapElements:function(t,n){var a=Array.from(e.querySelectorAll(t));return null==n?a.map(function(e,t){return o(e)}):a.map(function(e,t){return e.getAttribute(n)})}}}};function o(e){return e instanceof HTMLImageElement?e.src:e instanceof HTMLAnchorElement||e instanceof HTMLLinkElement?e.href:e.textContent}t.context=r},509:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.traversal=function(e){var t=function(e,n){var a=Object.assign({},e),l=a._root,c=a._unfold;delete a._root,delete a._unfold;var s=null==l?this.createDom(n):this.createDom(n,l),u=this.getScrapper(s),m=Object.keys(a).reduce(function(e,n){var r=a[n],l=c||(0,o.isPlural)(n)?u.scrapElements:u.scrap;if((0,o.isString)(r))e[n]=l(r);else if(Array.isArray(r))e[n]=l.apply(null,r);else if(null!=r&&"object"===i(r)){var m=t(r,s);e[n]=Array.isArray(m)&&!(0,o.isPlural)(n)?m[0]:m}return e},{});return c?(0,r.unfold)(m):m}.bind(e);return function(e,n){return t(e,n)}};var r=n(257),o=n(125);function i(e){return(i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}}}]);
//# sourceMappingURL=component---src-pages-index-js-8c7b21da890f4d5b357f.js.map