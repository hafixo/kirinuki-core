(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76),a=n(324);t.generateConverter=function(e,t){return function(n,o,i,l){var u=n._root,s=n._unfold;delete n._root,delete n._unfold;var c=null===u?e(o):e(o,u),m=t(c,i),f=Object.keys(n).reduce(function(e,t){var a=n[t],o=s||r.isPlural(t)?m.scrapElements:m.scrap;return l(e,t,a,o,c)},{});return s?a.unfold(f):f}}},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(326),a=n(76);t.resolveURL=function(e,t){return a.isString(t.origin)&&!a.isAbsoluteUrl(e)?r.resolve(t.origin,e):e}},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322),a=n(333),o=n(521);t.node=function(e,t,n){return o.traversal(a.env,n)(e,t)},t.browser=function(e,t,n){var a,i;a=null==t||t.hasOwnProperty("origin")?window.document:t;var l={origin:document.location.origin};return i=Object.assign({},l,n||{}),o.traversal(r.env,i)(e,a)}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),a=n(325),o=n(332);t.env={convert:r.generateConverter(o.createDom,function(e,t){return{scrap:function(n,r){var o=e.querySelectorAll(n)[0];return void 0===r?a.getNodeValue(o,t):o.getAttribute(r)||void 0},scrapElements:function(n,r){var o=Array.from(e.querySelectorAll(n));return null==r?o.map(function(e){return a.getNodeValue(e,t)}):o.map(function(e){return e.getAttribute(r)||void 0})}}})}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unfold=function(e){var t=Object.keys(e),n=Math.max.apply(null,t.map(function(t){var n=e[t];return Array.isArray(n)?n.length:1}));return Array.from(Array(n).keys()).map(function(n){return t.reduce(function(t,r){var a=e[r];return t[r]=Array.isArray(a)?a[n]:a,t},{})})}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(200);t.getNodeValue=function(e,t){return e instanceof HTMLImageElement?r.resolveURL(e.src,t):e instanceof HTMLAnchorElement||e instanceof HTMLLinkElement?r.resolveURL(e.href,t):e.textContent||void 0}},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.createDom=function(e,t){var n,a=r.isString(e)?(n=e,(new DOMParser).parseFromString(n,"text/html")):e;if(null==t)return a;var o=a.querySelector(t);if(null===o)throw"Can't match root selector "+t;return o}},333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),a=n(334),o=n(520);t.env={convert:r.generateConverter(o.createDom,function(e,t){return{scrap:function(n,r){var o=e(n).get(0);return null==r?a.getNodeValue(o,t):o.attribs[r]},scrapElements:function(n,r){return null==r?e(n).toArray().map(function(e){return a.getNodeValue(e,t)}):e(n).toArray().map(function(e){return e.attribs[r]})}}})}},334:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(76),o=r(n(201)),i=n(200);t.getNodeValue=function(e,t){if(void 0!==e){if(a.isString(e)||!("attribs"in e))return o.default(e).text().trim();var n=e.name;return"img"===n?i.resolveURL(e.attribs.src,t):"a"===n||"link"===n?i.resolveURL(e.attribs.href,t):o.default(e).text().trim()}}},342:function(e,t){},344:function(e,t){},353:function(e,t){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(306),i=n(313),l=n.n(i),u=n(661),s=n(663),c=n(664),m=n(662),f=n(197);n(655);function p(e){return a.a.createElement("div",{className:"HtmlEditorContainer"},a.a.createElement(f.Controlled,{value:e.html,options:{lineNumbers:!0,lineWrapping:!0,mode:"application/json"},height:"150",width:"150",onBeforeChange:function(t,n,r){e.dispatch("updateHtml",r)}}))}function h(e){return a.a.createElement("div",{className:"JsonEditorContainer"},a.a.createElement(f.Controlled,{value:e.json,options:{lineNumbers:!0,lineWrapping:!0,mode:"application/json"},height:"150",width:"150",onBeforeChange:function(t,n,r){e.dispatch("updateJson",r)}}))}var d=n(319),y=n.n(d),v=function(e){var t=e.json;return a.a.createElement("div",{className:"PreviewerContainer"},a.a.createElement(y.a,{json:t}))},b='\n<html>\n  <head>\n    <title>Hero News!</title>\n  </head>\n  <body>\n    <div class="main">\n        <h3 class="topic">Amalgam</h3>\n        <ul class="news-list">\n            <li> \n              <span class="content" data-hero="Batman"}>Batman come back in Gossam City!</span>\n              <img class="thumbnail" src="https://exmaple.com/batman.png"></img>\n            </li>\n            <li> \n              <span class="content" data-hero="Dr. Strange"}>Dr. Strange got into a traffic accident.</span>\n              <img  class="thumbnail" src="https://exmaple.com/strange.png"></img>\n            </li>\n        </ul>\n    </div>\n    <div class="sub">\n        <ul class="sub-news-list">\n            <li> \n              <span class="content" data-hero="IronMan">close in on the "truth" of Stark industries.</span>\n              <img class="thumbnail" src="https://exmaple.com/stark.png"></img>\n            </li>\n            <li> \n              <span class="content">MVP of the month.</span>\n              <img  class="thumbnail" src="https://exmaple.com/mvp.png"></img>\n            </li>\n        </ul>\n    </div>\n  </body>\n</html>\n\n',g={hero:[".content[data-hero]","data-hero"],heroes:[".content[data-hero]","data-hero"]},E={topic:{content:".content"}},_={topic:{content:".content",contents:".content"}},S={unfoldTopics:{_unfold:!0,content:".news-list .content",image:".news-list img"},topics:{contents:".news-list .content",images:".news-list img"}},j={topic:{contents:".content",images:"img"},mainTopic:{_root:".news-list",contents:".content",images:"img"},subTopic:{_root:".sub-news-list",contents:".content",images:"img"}},w=(n(320),n(321));function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",function(){return C}),"undefined"!=typeof navigator&&(n(522),n(260));var C=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=P(this,A(t).call(this,e,n))).state={json:JSON.stringify(E,null,4),result:{},html:b,loading:!1},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,l.a),n=t,(r=[{key:"componentDidMount",value:function(){this.subscribe({updateJson:this.updateJson,updateHtml:this.updateHtml})}},{key:"updateJson",value:function(e){this.setState({json:e})}},{key:"updateHtml",value:function(e){this.setState({html:e})}},{key:"querySchema",value:function(){try{return JSON.parse(this.state.json)}catch(e){return console.error(e),{}}}},{key:"updateAttributeRuleSchema",value:function(){this.updateSchema(g)}},{key:"updateNameRuleSchema",value:function(){this.updateSchema(_)}},{key:"updateUnfoldRuleSchema",value:function(){this.updateSchema(S)}},{key:"updateRootRuleSchema",value:function(){this.updateSchema(j)}},{key:"updateSchema",value:function(e){this.setState({json:JSON.stringify(e,null,4)})}},{key:"parse",value:function(){var e=Object(w.browser)(this.querySchema(),this.state.html);console.table(e),this.setState({result:e})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(o.Helmet,null,a.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"}),a.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css"}),a.a.createElement("link",{rel:"stylesheet",href:"//esironal.github.io/cmtouch/lib/codemirror.css"}),a.a.createElement("link",{rel:"stylesheet",href:"//esironal.github.io/cmtouch/addon/hint/show-hint.css"})),a.a.createElement(u.a,{text:!0},a.a.createElement(s.a,{as:"h1"},"Kirinuki"),a.a.createElement("p",null,"Kirinuki is a library that convert any html to JSON using CSS selectors."),a.a.createElement("p",null,"* Kirinuki is automatically convert data type by query key naming rules.(singular form or a plural form)",a.a.createElement("br",null),a.a.createElement("a",{onClick:this.updateNameRuleSchema.bind(this)},"try it!")),a.a.createElement("p",null,'* To get the html attributes, specify with Array. ex: `["css selector", "attribute name"]`',a.a.createElement("br",null),a.a.createElement("a",{onClick:this.updateAttributeRuleSchema.bind(this)},"try it!")),a.a.createElement("p",null,"* Support nesting schema. if schema has '_unfold' property unfold a plain object with array of value into a array with plain object",a.a.createElement("br",null),a.a.createElement("a",{onClick:this.updateUnfoldRuleSchema.bind(this)},"try it!")),a.a.createElement("p",null,"* Root path",a.a.createElement("br",null),a.a.createElement("a",{onClick:this.updateRootRuleSchema.bind(this)},"try it!"))),a.a.createElement(u.a,null,a.a.createElement(s.a,{as:"h2"},"Demo"),a.a.createElement(c.a,{celled:!0},a.a.createElement(c.a.Row,null,a.a.createElement(c.a.Column,{width:8},a.a.createElement(s.a,{as:"h3"}," Query Schema "),a.a.createElement(h,{dispatch:this.dispatch,json:this.state.json}),a.a.createElement("hr",null),a.a.createElement(s.a,{as:"h3"}," Target HTML "),a.a.createElement(p,{dispatch:this.dispatch,html:this.state.html})),a.a.createElement(c.a.Column,{width:8},a.a.createElement(s.a,{as:"h3"}," ","Result view (Please open the developer console)"," "),a.a.createElement(v,{dispatch:this.dispatch,json:this.state.result}))),a.a.createElement(c.a.Row,null,a.a.createElement(c.a.Column,{width:16,textAlign:"center"},a.a.createElement(m.a,{fluid:!0,primary:!0,loading:this.state.loading,onClick:this.parse.bind(this)},"parse"))))))}}])&&O(n.prototype,r),i&&O(n,i),t}()},520:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(76),o=r(n(201));t.createDom=function(e,t){var n=a.isString(e)?o.default.load(e):e;if(void 0!==t){var r=n(t).html();return null===r?n:o.default.load(r)}return n}},521:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(76);t.traversal=function(e,t){return void 0===t&&(t={}),function(n,i){return function n(i,l){var u=a({},i);return e.convert(u,l,t,function(e,t,a,i,l){if(o.isString(a))e[t]=i(a);else if(Array.isArray(a))e[t]=i.apply(null,a);else if(null!==a&&"object"===r(a)){var u=n(a,l);e[t]=Array.isArray(u)&&!o.isPlural(t)?u[0]:u}return e})}(n,i)}}},76:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(323));t.isString=function(e){return"string"==typeof e||e instanceof String},t.isPlural=function(e){return a.default(e)===e},t.isAbsoluteUrl=function(e){return/^[a-z][a-z0-9+.-]*:/.test(e)}}}]);
//# sourceMappingURL=component---src-pages-index-js-64ddb8c0d78012e08a1b.js.map